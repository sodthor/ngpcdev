#ifndef _LEVEL1
#define _LEVEL1

#include <sys/types.h>
#include <libgte.h>
#include <libgpu.h>
#include <libgs.h>
#include "walls.c"
#include "grounds.c"
#include "constant.h"

#define LEVEL1_IMG 2
#define LEVEL1_WIDTH 48
#define LEVEL1_HEIGHT 32

u_long *level1_images[LEVEL1_IMG] = {walls,grounds};

u_short level1_map[LEVEL1_WIDTH][LEVEL1_HEIGHT] = {
    {0x0001,0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0001,0x0000,0x0001,0x0001,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001},
    {0x0000,0x010b,0x0107,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x010f,0x0111,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001},
    {0x0001,0x0106,0x0104,0x0104,0x0105,0x0105,0x0105,0x0104,0x0105,0x0104,0x0104,0x0104,0x0105,0x0104,0x0104,0x0104,0x0105,0x0105,0x0104,0x0105,0x0110,0x0001,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001},
    {0x0000,0x0100,0x0105,0x0104,0x0104,0x0104,0x0104,0x0104,0x0104,0x0104,0x0104,0x0105,0x0104,0x0104,0x0104,0x0104,0x0105,0x0105,0x0104,0x0105,0x0101,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000,0x0001,0x0001,0x0001,0x0000,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0105,0x0118,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0112,0x0104,0x0105,0x0101,0x0001,0x0000,0x0001,0x0002,0x000c,0x000c,0x0008,0x0001,0x0001,0x0001,0x0001},
    {0x0000,0x0100,0x0105,0x0105,0x011a,0x010c,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001,0x0001,0x0004,0x0005,0x0006,0x0007,0x0000,0x0001,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0101,0x0001,0x010b,0x0107,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0115,0x0105,0x0104,0x0101,0x0001,0x0001,0x0001,0x0004,0x000a,0x000a,0x0007,0x0001,0x0001,0x0001,0x0001},
    {0x0000,0x0100,0x0104,0x0104,0x0101,0x0000,0x0106,0x0105,0x0104,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0101,0x0001,0x0001,0x0000,0x0003,0x000b,0x000b,0x0009,0x0000,0x0001,0x0001,0x0001},
    {0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0104,0x0105,0x0104,0x0105,0x0105,0x0104,0x0105,0x010d,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000},
    {0x0000,0x0100,0x0104,0x0104,0x0101,0x0000,0x0100,0x0104,0x0105,0x0113,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x010e,0x010c,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0101,0x0001,0x0100,0x0105,0x0104,0x0101,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x010b,0x0107,0x0102,0x0102,0x0102,0x0102,0x0102,0x010f,0x0111,0x0001,0x0001},
    {0x0000,0x0100,0x0104,0x0104,0x0101,0x0000,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001,0x0000,0x0001,0x0001,0x0000,0x0001,0x0001,0x0000,0x0001,0x0001,0x0106,0x0105,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0110,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x010b,0x0116,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0000,0x0100,0x0105,0x0104,0x0101,0x0000,0x0100,0x0105,0x0104,0x0101,0x0001,0x010b,0x0107,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0117,0x0105,0x0105,0x0113,0x0103,0x0103,0x0112,0x0104,0x0105,0x0101,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0101,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0106,0x0105,0x0105,0x0105,0x0105,0x0105,0x0105,0x0105,0x0105,0x0104,0x0105,0x0104,0x0101,0x0001,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0000,0x0100,0x0105,0x0104,0x0101,0x0000,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0104,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x0105,0x010d,0x0000,0x0001,0x0100,0x0105,0x0104,0x0101,0x0001,0x0001},
    {0x0001,0x0100,0x0200,0x0200,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0104,0x0104,0x0118,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x010e,0x010c,0x0001,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0001},
    {0x0000,0x0100,0x0104,0x0105,0x0101,0x0000,0x0100,0x0105,0x0104,0x0101,0x0001,0x0100,0x0105,0x0105,0x011a,0x010c,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x010b,0x0107,0x0102,0x0102,0x0102,0x0102,0x0102,0x010f,0x0111,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0000,0x0100,0x0104,0x0104,0x0101,0x0000,0x0100,0x0104,0x0105,0x0101,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0106,0x0105,0x0105,0x0105,0x0105,0x0105,0x0105,0x0105,0x0110,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0001},
    {0x0001,0x0100,0x0105,0x0104,0x0101,0x0001,0x0100,0x0105,0x0105,0x0114,0x0102,0x0115,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0000,0x0100,0x0104,0x0104,0x0101,0x0000,0x0100,0x0105,0x0105,0x0105,0x0105,0x0105,0x0105,0x0105,0x0101,0x0001,0x0100,0x0104,0x0105,0x0113,0x0103,0x0112,0x0104,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0101,0x0001,0x0109,0x0105,0x0104,0x0105,0x0105,0x0105,0x0104,0x0105,0x010d,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0000,0x0100,0x0105,0x0104,0x0101,0x0000,0x0108,0x010a,0x0103,0x0103,0x0103,0x0103,0x0103,0x010e,0x010c,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0104,0x0114,0x0102,0x0115,0x0105,0x0104,0x0101,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000,0x0001,0x0001,0x0001,0x0100,0x0105,0x0105,0x0101,0x0000,0x0100,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0101,0x0001,0x0001},
    {0x0000,0x0100,0x0104,0x0104,0x0101,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0109,0x0105,0x0105,0x0105,0x0105,0x0105,0x0104,0x0105,0x010d,0x0001,0x0001},
    {0x0001,0x0100,0x0105,0x0105,0x011b,0x0111,0x0001,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0108,0x010a,0x0103,0x0103,0x0103,0x0103,0x0103,0x010e,0x010c,0x0001,0x0000},
    {0x0000,0x0100,0x0105,0x0105,0x0104,0x0119,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x010f,0x0111,0x0001,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001},
    {0x0001,0x0100,0x0104,0x0105,0x0105,0x0104,0x0104,0x0105,0x0104,0x0104,0x0104,0x0104,0x0105,0x0110,0x0001,0x0001,0x0100,0x0105,0x0105,0x0114,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x010f,0x0111,0x0001},
    {0x0000,0x0109,0x0105,0x0104,0x0105,0x0105,0x0104,0x0105,0x0105,0x0104,0x0104,0x0104,0x0105,0x0101,0x0001,0x0001,0x0100,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x0110,0x0001},
    {0x0001,0x0108,0x010a,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0112,0x0104,0x0104,0x0101,0x0001,0x0001,0x0109,0x0105,0x0105,0x0105,0x0105,0x0105,0x0104,0x0104,0x0104,0x0105,0x0105,0x0104,0x0105,0x0105,0x0101,0x0001},
    {0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0000,0x0001,0x0001,0x0001,0x0100,0x0104,0x0104,0x0101,0x0001,0x0001,0x0108,0x010a,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0112,0x0104,0x0105,0x0101,0x0001},
    {0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0001,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0105,0x0104,0x0101,0x0001},
    {0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0104,0x0104,0x0101,0x0001,0x0002,0x0008,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001},
    {0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0003,0x0009,0x010b,0x0107,0x0102,0x0102,0x0102,0x0102,0x0102,0x010f,0x0111,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001},
    {0x0001,0x010b,0x0107,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0115,0x0104,0x0104,0x0101,0x0001,0x0001,0x0001,0x0106,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0110,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001},
    {0x0001,0x0106,0x0104,0x0104,0x0104,0x0104,0x0104,0x0104,0x0105,0x0105,0x0104,0x0104,0x0104,0x0101,0x0001,0x0001,0x0001,0x0100,0x0105,0x0105,0x0105,0x0104,0x0105,0x0104,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0104,0x0104,0x0105,0x0104,0x0104,0x0105,0x0104,0x0104,0x0105,0x010d,0x0001,0x0001,0x0001,0x0100,0x0105,0x0105,0x0113,0x0103,0x0112,0x0104,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0104,0x0118,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x010e,0x010c,0x0001,0x0000,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0104,0x0101,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x011a,0x010c,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0105,0x0104,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001},
    {0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0104,0x0101,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001},
    {0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0001,0x0001,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000,0x0001,0x0001,0x0100,0x0104,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0114,0x0102,0x0115,0x0104,0x0105,0x0101,0x0001},
    {0x0001,0x0100,0x0105,0x0104,0x011b,0x0111,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0100,0x0105,0x0105,0x0101,0x0001,0x0100,0x0105,0x0105,0x0105,0x0105,0x0104,0x0105,0x0105,0x0101,0x0001},
    {0x0001,0x0100,0x0104,0x0104,0x0104,0x0119,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0102,0x0115,0x0105,0x0105,0x0101,0x0001,0x0109,0x0105,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x010d,0x0001},
    {0x0001,0x0100,0x0104,0x0105,0x0105,0x0105,0x0104,0x0105,0x0104,0x0104,0x0104,0x0105,0x0104,0x0105,0x0104,0x0105,0x0105,0x0105,0x0105,0x0104,0x0101,0x0001,0x0108,0x010a,0x0103,0x0103,0x0103,0x0103,0x0103,0x010e,0x010c,0x0001},
    {0x0001,0x0109,0x0105,0x0104,0x0105,0x0105,0x0104,0x0104,0x0105,0x0105,0x0104,0x0104,0x0105,0x0104,0x0104,0x0105,0x0105,0x0104,0x0105,0x0104,0x010d,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0000,0x0001},
    {0x0001,0x0108,0x010a,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x0103,0x010e,0x010c,0x0000,0x0001,0x0001,0x0001,0x0000,0x0001,0x0000,0x0001,0x0001,0x0001,0x0001},
    {0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001}};

#define LEVEL1_MARK 27

u_short level1_mark[LEVEL1_MARK][2]= {
    {2,3},
    {2,18},
    {8,8},
    {8,18},
    {12,22},
    {12,28},
    {14,13},
    {14,22},
    {16,3},
    {19,18},
    {19,23},
    {21,8},
    {21,13},
    {24,23},
    {24,28},
    {28,3},
    {28,11},
    {29,18},
    {29,29},
    {35,18},
    {35,23},
    {37,3},
    {37,11},
    {42,23},
    {42,29},
    {44,3},
    {44,18}
};

GsIMAGE *level1_TexInfo;

extern initTexture(u_long*,GsIMAGE*);
extern initSprite(GsIMAGE*,int,int,int,int,int,int,int);

short level1_imgl[LEVEL1_IMG];

level1_initTextures() {
    int i;
    level1_TexInfo = (GsIMAGE *)malloc(LEVEL1_IMG*sizeof(GsIMAGE));
    for (i=0;i<LEVEL1_IMG;i++) {
        initTexture(level1_images[i],&level1_TexInfo[i]);
        level1_imgl[i] = level1_TexInfo[i].pw/SIZE;
    }
}

level1_init() {
    int i,j,dx,dy;
    dx=((LEVEL1_WIDTH-1)*SIZE)/2;
    dy=(LEVEL1_HEIGHT*SIZE)/2;
    for (j=0;j<LEVEL1_HEIGHT;j++) {
        for (i=0;i<LEVEL1_WIDTH;i++) {
            u_short elm = level1_map[i][j];
            if (elm!=0xFFFF) {
                short img = elm/256,num = elm%256;
                short u = (num%level1_imgl[img])*SIZE;
                short v = (num/level1_imgl[img])*SIZE;
                initSprite(&level1_TexInfo[img],i+LEVEL1_WIDTH*j,u,v,SIZE,SIZE,i*SIZE-dx,j*SIZE-dy);
            }
         }
    }
}

#endif
